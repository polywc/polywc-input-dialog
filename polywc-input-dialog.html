<!--

    @license
    Copyright (C) 2016 - Donato Pirozzi (donatopirozzi[at]gmail[dot]com)
    This file is part of POLYWC library.

    POLYWC is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    POLYWC is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    Distributed under the GNU LGPL v3. For full terms see the file LICENSE.
    License: http://www.gnu.org/licenses/lgpl.html LGPL version 3 or higher

    Contributors:
        - Donato Pirozzi (donatopirozzi[at]gmail[dot]com)

-->

<!-- POLYMER libraries -->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-button/paper-button.html">

<dom-module id="polywc-input-dialog">
	<template>
		<paper-dialog id="dlg">
			<h2 id="dlgTitle">[[title]]</h2>
			<p>[[message]]</p>

            <paper-input id="txtinput" value="{{}}"></paper-input>
			<div class="buttons">
			    <paper-button dialog-dismiss>Annulla</paper-button>
			    <paper-button dialog-confirm autofocus on-click="_handleAcceptClick">Conferma</paper-button>
		 	</div>
		</paper-dialog>
	</template>
	<script>
		Polymer({
			is: 'polywc-input-dialog',
			
			properties: {
				title: 		{ type: String, value: 'Title' },
				message: 	{ type: String, value: 'Message dialog' },
                value:      { type: String, value: '', notify: true }
			},
			
			open: function(title, message, defaultvalue) {
				if (typeof title !== 'undefined') this.title = title;
				if (typeof message !== 'undefined') this.message = message;
                if (typeof defaultvalue !== 'undefined') this.value = defaultvalue;
				this.$.dlg.open();
			},
			
			_handleAcceptClick: function(event) {
				var detail = { value: this.value };
				this.fire('delete', null);
			}
		
		});
	</script>
</dom-module>